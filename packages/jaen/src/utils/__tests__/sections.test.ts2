import {getSection} from '../sections.ts2'
import {JaenPage} from '../types'

const page: JaenPage = {
  id: 'JaenPage foo-bar-baz-1',
  parent: null,
  children: [],
  slug: 'test',
  sections: null,
  jaenPageMetadata: {
    title: 'test',
    isBlogPost: true,
    image: 'test',
    description: 'test',
    datePublished: 'test',
    canonical: 'test'
  },
  jaenFields: null
}

test('getSection', () => {
  const exptected = {
    section: {
      jaenFields: null,
      sections: null
    },
    page: {
      ...page,
      sections: {
        0: {
          jaenFields: null,
          sections: {
            0: {
              jaenFields: null,
              sections: {
                1: {
                  jaenFields: null,
                  sections: null
                }
              }
            }
          }
        }
      }
    }
  }

  const result = getSection(page, [0, 0, 1])

  console.log('result', result)

  expect(result).toEqual(exptected)
})
